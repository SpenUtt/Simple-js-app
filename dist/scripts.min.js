let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e?t.push(e):console.log("pokemon is not correct")}function n(){return t}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(t){console.error(t)})}function i(t){o(t).then(function(){a(t)})}function a(t){let e=$(".modal-body"),n=$(".modal-title");n.empty(),e.empty();let o=$("<h1>"+t.name+"</h1>"),i=$('<img class"modal-image" style="width:50%">');i.attr("src",t.imageUrl);let a=$("<p>height : "+t.height+"<p>");n.append(o),e.append(i),e.append(a)}return $(".pokemon-list"),{add:e,getAll:n,addListItem:function t(e){pokemonRepository.loadDetails(e).then(function(){let t=$(".list"),n=$('<div class="card" style=width:300px></div>'),o=$('<img class="card-img-top" alt="Card image" style="width:50%"/>');o.attr("src",e.imageUrl);let a=e.name,l=$('<div class="card-body"></div>'),p=$('<button type="button" id="pokemon-button" class="btn btn-dark" data-toggle="modal" data-target="#pokemonModal">See details</button>');t.append(n),n.append(o),n.append(a),n.append(l),l.append(p),p.on("click",()=>{i(e)}),n.on("click",()=>{i(e)})})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o,showDetails:i,showModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});